/*! kist-fauxAnchor 0.1.3 - Simulate anchors on non-anchor elements. | Author: Ivan NikoliÄ‡, 2014 | License: MIT */
!function(a,b){function c(b,c){this.element=b,this.options=a.extend({},this.defaults,c),g.setup.call(this),e.setup.call(this),f.setup.call(this),this.update()}var d={name:"fauxAnchor",ns:{css:"kist-FauxAnchor",event:".kist.fauxAnchor"},error:function(a){throw new Error(d.name+": "+a)}};d.classes={item:d.ns.css+"-item"},d.publicMethods=["destroy","update","prevent","unprevent"];var e={setup:function(){this.dom=this.dom||{},this.dom.el=a(this.element),this.dom.el.addClass(d.classes.item)},destroy:function(){this.dom.el.removeClass(d.classes.item)}},f={setup:function(){this.dom.el.on("click"+this.instance.ens,a.proxy(function(a){this.prevented||this.action(this.data.href,this.data.target,a.target)},this))},destroy:function(){this.dom.el.off(this.instance.ens)}},g={id:0,setup:function(){this.instance=this.instance||{},this.instance.id=g.id++,this.instance.ens=d.ns.event+"."+this.instance.id},destroy:function(){delete a.data(this.element)[d.name]}};a.extend(c.prototype,{action:function(c,d,e){return!a(e).closest("a").length&&this.options.condition.call(null,e)&&c?d?b.open(c,d):b.location.assign(c):void 0},update:function(){var a=this.dom.el.data();this.data={href:a.href,target:a.target}},destroy:function(){e.destroy.call(this),f.destroy.call(this),g.destroy.call(this)},prevent:function(){this.prevented=!0},unprevent:function(){this.prevented=!1},prevented:!1,defaults:{condition:function(){return!0}}}),a.kist=a.kist||{},a.fn[d.name]=function(b){return this.each("string"==typeof b&&-1!==a.inArray(b,d.publicMethods)?function(){var c=a.data(this,d.name);c&&c[b]()}:function(){a.data(this,d.name)||a.data(this,d.name,new c(this,b))})}}(jQuery,window,document);