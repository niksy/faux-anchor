/*! kist-fauxanchor 0.5.1 - Simulate default anchor action. | Author: Ivan NikoliÄ‡ <niksy5@gmail.com> (http://ivannikolic.com/), 2015 | License: MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self);var c=b;c=c.jQuery||(c.jQuery={}),c=c.fn||(c.fn={}),c.fauxAnchor=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(6);b.exports={type:function(a){return a=d(a),a.is("a")?"anchor":a.is("button")||a.is('input[type="button"]')?"button":"unfocusable"},target:function(a,b){return 2===b.which||(1===b.which||13===b.which&&"anchor"!==a||13===b.which&&"anchor"===a&&!e.browser.webkit.all)&&e.input.metaKey(b)?"_blank":this.$el["anchor"===a?"attr":"data"]("target")||""},href:function(a){return this.$el["anchor"===a?"attr":"data"]("href")||""},contextMenu:function(a,b){return 3===b.which||(1===b.which||13===b.which)&&b.ctrlKey&&e.platform.osx?!0:!1},simulateAlternative:function(a,b){return"anchor"===a&&(!this.options.anchorPreventDefault||2===b.which&&!e.browser.webkit.all&&!e.browser.ie.lte8||this.$el.is(b.target)&&e.browser.ie.lte8&&(2===b.which||1===b.which&&b.ctrlKey))?!1:!0}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(4),f=a(7),g=a(10),h=a(3),i=a(1),j=a(8),k=b.exports=function(a,b){this.element=a,this.options=d.extend(!0,{},this.defaults,{type:i.type(this.element)},b),g.setup.call(this),e.setup.call(this),f.setup.call(this),h.shouldSetup.call(this)&&(h.instance.setup.call(this),h.dom.setup.call(this),h.events.setup.call(this))};d.extend(k.prototype,{action:function(a,b,c){var e="_blank"===b?"alternative":"basic";if(this.shouldActivateAction(a,c))return this.options[e].call(this.element,c,d.proxy(this[e],this,a))},shouldActivateAction:function(a,b){return"anchor"!==this.options.type&&d(b.target).closest("a").length||!this.options.condition.call(this.element,b)||!a?!1:!0},basic:function(a){window.location.assign(a)},alternative:function(a){this.simulateAlternative&&window.open(a,"_blank")},destroy:function(){e.destroy.call(this),f.destroy.call(this),g.destroy.call(this),h.shouldDestroy.call(this)&&(h.dom.destroy.call(this),h.events.destroy.call(this),h.instance.destroy.call(this))},prevent:function(){this.prevented=!0},unprevent:function(){this.prevented=!1},prevented:!1,defaults:{contextMenu:!0,focus:!0,anchorPreventDefault:!0,basic:function(a,b){b()},alternative:function(a,b){b()},condition:function(){return!0},classes:j}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(11),f=a(10),g=a(6),h=a(1),i=a(8),j=a(12),k=b.exports={common:{dom:d(),event:null,instance:null},setup:!1,passesTest:function(){return this.options.contextMenu&&"anchor"!==this.options.type&&g.feature.contextMenu},shouldSetup:function(){return k.passesTest.call(this)&&!k.setup},shouldDestroy:function(){return!f.count&&k.setup},instance:{setup:function(){k.setup=!0},destroy:function(){k.setup=!1,k.common.instance=null}},dom:{setup:function(){var a=i.contextMenuItem,b=[{label:"Open Link in New Tab","class":a+" "+a+"--newTab"},{label:"Open Link in New Window","class":a+" "+a+"--newWindow"}];k.common.dom=d("<menu />",{type:"context",id:i.contextMenu}).appendTo("body"),d.each(b,function(a,b){k.common.dom.append(d("<menuitem />",b))})},destroy:function(){k.common.dom.remove(),k.common.dom=d()}},events:{setup:function(){k.common.dom.on("click"+e.ns.event,"."+i.contextMenuItem,function(){var a=k.common.instance,b=k.common.event;a.simulateAlternative=!0,a.action(h.href.call(a,a.options.type),"_blank",b)})},destroy:function(){k.common.dom.off(e.ns.event),k.common.event=null}},onDisplay:function(a){j(this.$el,a,this.options.type),this.shouldActivateAction(h.href.call(this,this.options.type),a)?(this.$el.attr("contextmenu")||this.$el.attr("contextmenu",i.contextMenu),k.common.instance=this,k.common.event=a):this.$el.removeAttr("contextmenu")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(3),f=a(8);b.exports={setup:function(){this.$el=d(this.element),this.$el.addClass(f.item),"unfocusable"===this.options.type&&this.options.focus&&this.$el.attr({tabindex:0,role:"link"}),e.passesTest.call(this)&&this.$el.attr({contextmenu:f.contextMenu})},destroy:function(){this.$el.removeClass(f.item),"unfocusable"===this.options.type&&this.options.focus&&this.$el.removeAttr("tabindex role"),e.passesTest.call(this)&&this.$el.removeAttr("contextmenu")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b){function c(a,b,c){var f=d.browser.webkit.all,g=d.browser.safari.all,h=d.browser.ie.lte8,i=d.browser.ie.mobileWP,j=d.feature.touch,k=this.options.type,l=d.input.metaKey(c),m=0;return"click"===a&&((!f&&!j||h&&j)&&m++,i&&m--),"mousedown"===a&&((f||i||j&&2!==b)&&m++,h&&j&&m--),"keydown"===a&&(m++,f||13!==b||m--,"anchor"===k&&(!f&&j&&13===b&&m++,h&&j&&13===b&&m--),"button"===k&&((!f&&j&&13===b||g&&l)&&m++,(f&&13===b&&l||h&&j&&13===b)&&m--),"unfocusable"===k&&f&&13===b&&m--),(this.prevented||e.contextMenu.call(this,k,c))&&m++,Boolean(Math.max(0,m))}var d=a(6),e=a(1),f=a(12);b.exports=function(a){var b=a.which,d=a.type,g=this.options.type;"anchor"===g&&"click"===d&&this.options.anchorPreventDefault&&a.preventDefault(),c.call(this,d,b,a)||(this.simulateAlternative=e.simulateAlternative.call(this,g,a),f(this.$el,a,g),this.action(e.href.call(this,g),e.target.call(this,g,a),a))}},{}],6:[function(a,b){var c=b.exports={platform:{osx:/OS X/i.test(navigator.userAgent)},browser:{webkit:{all:"WebkitAppearance"in document.documentElement.style},safari:{all:/constructor/i.test(window.HTMLElement)},ff:{all:"MozAppearance"in document.documentElement.style},ie:{lte8:document.all&&!document.addEventListener,mobileWP:/IEMobile/i.test(navigator.userAgent)}},feature:{touch:"Modernizr"in window&&window.Modernizr.touchevents||"ontouchstart"in window||"DocumentTouch"in window&&document instanceof window.DocumentTouch,contextMenu:"Modernizr"in window&&window.Modernizr.contextmenu||"contextMenu"in document.documentElement&&"HTMLMenuItemElement"in window},input:{metaKey:function(a){return a.ctrlKey&&!c.platform.osx||a.metaKey}}}},{}],7:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(3),f=a(5);b.exports={setup:function(){this.$el.on("click"+this.ens,d.proxy(f,this)),this.$el.on("mousedown"+this.ens,d.proxy(f,this)),this.$el.on("keydown"+this.ens,d.proxy(f,this)),e.passesTest.call(this)&&this.$el.on("contextmenu"+this.ens,d.proxy(e.onDisplay,this))},destroy:function(){this.$el.off(this.ens)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(a,b){var c=a(11),d=c.ns.htmlClass;b.exports={item:d+"-item",contextMenu:d+"-contextMenu",contextMenuItem:d+"-contextMenu-item"}},{}],9:[function(a,b){(function(c){function d(a){var b={};return"object"==typeof a&&(a.primary&&(b.basic=a.primary),a.secondary&&(b.alternative=a.secondary),b=e.extend({},a,b)),b}var e="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,f=a(2),g=a(11),h=a(13)(g.publicMethods),i=b.exports=function(a){return a=a||{},this.each(function(){var b=e.data(this,g.name);h(a)&&b?b[a]():"object"!=typeof a||b||e.data(this,g.name,new f(this,d(a)))})};i.defaults=f.prototype.defaults}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(11),f=0,g=b.exports={count:0,setup:function(){this.uid=f++,this.ens=e.ns.event+"."+this.uid,g.count++},destroy:function(){d.removeData(this.element,e.name),g.count--}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(a,b){b.exports={name:"fauxAnchor",ns:{htmlClass:"kist-FauxAnchor",event:".kist.fauxAnchor"},publicMethods:["destroy","prevent","unprevent"]}},{}],12:[function(a,b){var c=a(8);b.exports=function(a,b,d){"anchor"!==d&&a.parents("."+c.item).length&&!b.isPropagationStopped()&&b.stopPropagation()}},{}],13:[function(a,b){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=function(a){return function(b){return"string"==typeof b&&-1!==c.inArray(b,a||[])}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[9])(9)});